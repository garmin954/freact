{"version":3,"sources":["../node_modules/classnames/index.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectDestructuringEmpty.js","pages/remarks/index.module.scss","pages/remarks/item.js","store/actions/remarks.js","pages/remarks/back.js","pages/remarks/index.js"],"names":["hasOwn","hasOwnProperty","classNames","classes","i","arguments","length","arg","argType","push","Array","isArray","inner","apply","toString","Object","prototype","key","call","join","module","exports","default","_objectDestructuringEmpty","obj","TypeError","RemarksItem","props","state","val","value","store","dispatch","type","CHECK_REMARKS_ITEM","DEL_REMARKS","this","index","check","className","checked","id","onChange","handleCheckItem","htmlFor","onClick","handleDeleteItem","Component","Back","propsTypes","Remarks","remarks","checkCount","allCheck","addValRef","createRef","storeStateChange","subscribe","prevProps","prevState","snapshot","current","ADD_REMARKS","addRemarksCreater","getState","setState","CHECK_REMARKS_ALL","alert","DEL_CHECK_REMARKS","styles","ref","onKeyDown","e","keyCode","addRemarks","map","item","handleCheckAll","handleCheckDeleteItem"],"mappings":"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","file":"static/js/3.ed213452.chunk.js","sourcesContent":["/*!\n  Copyright (c) 2018 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames() {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(arg);\n\t\t\t} else if (Array.isArray(arg)) {\n\t\t\t\tif (arg.length) {\n\t\t\t\t\tvar inner = classNames.apply(null, arg);\n\t\t\t\t\tif (inner) {\n\t\t\t\t\t\tclasses.push(inner);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tif (arg.toString === Object.prototype.toString) {\n\t\t\t\t\tfor (var key in arg) {\n\t\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tclasses.push(arg.toString());\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n","export default function _objectDestructuringEmpty(obj) {\n  if (obj == null) throw new TypeError(\"Cannot destructure undefined\");\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"gm-card\":\"remarks_gm-card___HS-t\"};","import React,{Component, } from 'react';\r\n// import classNames from \"classnames\";\r\n// import $styles from './item.module.scss';\r\nimport PropTypes from 'prop-types';\r\nimport store from \"../../store\";\r\nimport {checkRemarksItemCreater, delRemarksCreater} from \"../../store/actions/remarks\";\r\n\r\nexport default class RemarksItem extends Component{\r\n\r\n  static propTypes = {\r\n    value: PropTypes.string.isRequired,\r\n    index: PropTypes.number.isRequired,\r\n    check: PropTypes.bool.isRequired,\r\n  }\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n\r\n    }\r\n  }\r\n\r\n  handleCheckItem(val){\r\n    store.dispatch(checkRemarksItemCreater(val))\r\n\r\n  }\r\n  handleDeleteItem(key){\r\n    store.dispatch(delRemarksCreater(key))\r\n  }\r\n\r\n\r\n  render() {\r\n    const { props:{value, index, check}} = this;\r\n    return (\r\n      <li className='list-group-item' >\r\n        <input type=\"checkbox\"\r\n               checked={check}\r\n               className='form-check-input'\r\n               id={`flexCheckDisabled-${index}`}\r\n               onChange={()=> this.handleCheckItem(index)}\r\n        />\r\n        <label className=\"form-check-label ms-1\" htmlFor={`flexCheckDisabled-${index}`}>\r\n          {value}\r\n        </label>\r\n        <button className='btn btn-sm btn-danger float-end' onClick={()=>this.handleDeleteItem(index)}>del</button>\r\n      </li>\r\n    )\r\n  }\r\n}\r\n","import { ADD_REMARKS, DEL_REMARKS, DEL_CHECK_REMARKS, CHECK_REMARKS_ITEM, CHECK_REMARKS_ALL } from \"../actionType\";\r\n\r\n//包含所有的action creator\r\nexport const addRemarksCreater = (value) =>({type:ADD_REMARKS,value})\r\nexport const delRemarksCreater = (value) =>({type:DEL_REMARKS,value})\r\nexport const delCheckRemarksCreater = () =>({type:DEL_CHECK_REMARKS})\r\nexport const checkRemarksItemCreater = (value) =>({type:CHECK_REMARKS_ITEM, value})\r\nexport const checkRemarksAllCreater = (value) =>({type:CHECK_REMARKS_ALL, value})\r\n","import React,{Component} from 'react';\r\nimport classNames from \"classnames\";\r\nimport $styles from './back.module.scss';\r\n\r\nexport default class Back extends Component{\r\n\r\n  static propsTypes = {\r\n\r\n  }\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const {state:{}} = this;\r\n    return (\r\n      <div className={classNames({'row': true, })}>\r\n        <div className='col-5'>\r\n            <button type='button' className='btn btn-light'>《= back</button>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import React, {Component, createRef} from 'react';\r\nimport styles from './index.module.scss';\r\nimport classNames from \"classnames\";\r\nimport RemarksItem from \"./item\";\r\nimport store from '../../store/index';\r\nimport Back from \"./back\";\r\nimport {\r\n  addRemarksCreater,\r\n  checkRemarksAllCreater,\r\n  delCheckRemarksCreater\r\n} from '../../store/actions/remarks';\r\n\r\nexport default class Remarks extends Component{\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      remarks: [],\r\n      checkCount: 0,\r\n      allCheck: false,\r\n    }\r\n\r\n    this.addValRef = createRef();\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.storeStateChange()\r\n    // subscribe可以监听redux state的变化, 返回一个函数可以结束监听\r\n    let unsubscribe = store.subscribe(() => {\r\n      this.storeStateChange()\r\n    });\r\n\r\n    // unsubscribe(); // 结束监听\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState, snapshot) {\r\n    // console.log(prevState);\r\n\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    // unsubscribe();\r\n  }\r\n\r\n  // 添加\r\n  addRemarks(){\r\n    const value = this.addValRef.current.value;\r\n    if (value){\r\n      store.dispatch(addRemarksCreater(value));\r\n      this.addValRef.current.value = ''\r\n    }\r\n  }\r\n  // 获取state\r\n  storeStateChange(){\r\n    // store.getState可以获取redux的state\r\n    const {remarks} = store.getState();\r\n    this.setState(remarks)\r\n  }\r\n\r\n  // 全选\r\n  handleCheckAll(){\r\n    store.dispatch(checkRemarksAllCreater())\r\n  }\r\n\r\n\r\n  // 多选删除item\r\n  handleCheckDeleteItem(){\r\n    if (this.state.checkCount <= 0){\r\n      alert('No items selected to be deleted！');\r\n      return ;\r\n    }\r\n    store.dispatch(delCheckRemarksCreater())\r\n  }\r\n\r\n  render() {\r\n    const {state:{checkCount, remarks, allCheck}, addValRef} = this\r\n    return (\r\n      <div>\r\n        <Back />\r\n        <div className={classNames({'card': true, [styles['gm-card']]: true})}>\r\n          <div className='card-header '>\r\n            <div className=' input-group'>\r\n              <input\r\n                ref={addValRef}\r\n                onKeyDown={(e)=> e.keyCode === 13 && this.addRemarks()}\r\n                type=\"text\"\r\n                className='form-control'\r\n              />\r\n              <button\r\n                className='btn link-light btn-primary btn-outline-secondary'\r\n                type=\"button\"\r\n                onClick={()=>this.addRemarks()}\r\n              >\r\n                submit\r\n              </button>\r\n            </div>\r\n          </div>\r\n          <div className='card-body'>\r\n            {remarks.length > 0 ? (\r\n              <ul className='list-group text-start'>\r\n                {\r\n                  remarks.map((item, index)=>{\r\n                    return <RemarksItem\r\n                      key={index}\r\n                      value={item.value}\r\n                      index={index}\r\n                      check={item.check}\r\n                    />\r\n                  })\r\n                }\r\n              </ul>\r\n            ) : (<span className='text-center'> 暂时没有记录 </span>)}\r\n\r\n          </div>\r\n          <div className='card-footer d-flex justify-content-between align-items-center'>\r\n            <div className='col-3 float-start'>\r\n              <input type=\"checkbox\" checked={allCheck} onChange={()=>this.handleCheckAll()} className='form-check-input' value=\"\"  id='selectAllTarget'/>\r\n              <label className='form-check-label ms-1' htmlFor=\"selectAllTarget\" >\r\n                全选\r\n              </label>\r\n            </div>\r\n            <span className='text-info col-3 text-center'>选中了{checkCount}个</span>\r\n            <button className='btn btn-danger col-3 float-end' onClick={()=>this.handleCheckDeleteItem()}> delete </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n"],"sourceRoot":""}